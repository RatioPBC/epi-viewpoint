@import "variables"

@mixin button-list
  .button
    @include button-outline($size: small)
    background-color: white
    border-radius: 0
    border-right-width: 0
    font-weight: normal

    &[data-active=true]
      text-decoration: underline

    &:first-of-type
      border-radius: 2px 0 0 2px
      border-right-width: 0

    &:last-of-type
      border-radius: 0 2px 2px 0
      border-right-width: 1px

@mixin -button($size: regular)
  background-color: $button-color
  border: 1px solid $button-color
  border-radius: 2px
  color: $button-color
  display: inline-block
  font-size: $body-text-size
  font-weight: normal
  padding: 0.5rem 2rem

  @if $size == small
    font-size: $small-body-text-size
    padding: 0.25rem 1rem

@mixin button-primary($size: regular)
  @include -button($size: $size)
  color: white

@mixin button-secondary($size: regular)
  @include -button($size: $size)
  background-color: $secondary-button-color
  border-color: $secondary-button-color
  color: $primary-text-color

@mixin button-outline($size: regular)
  @include -button($size: $size)
  background-color: inherit

  &[data-disabled=true]
    border-color: $disabled-text-color
    color: $disabled-text-color
    cursor: default

@mixin card
  @include vertical-flow
  border: 2px solid $divider-color
  padding: 0 2rem 2rem 2rem
  margin-left: 2rem
  margin-right: 2rem

  header
    @include level($justify: space-between)
    @include h4
    margin-top: inherit

    a
      @include button-primary

@mixin data-table
  border-collapse: collapse
  margin-top: 3rem
  width: 100%

  thead
    tr:last-of-type
      th, td
        border-bottom: 1px solid $divider-color
        padding-bottom: 1rem

  th, td
    border-bottom: 1px solid $divider-color
    min-width: 8rem
    padding: 0.5rem 1rem 0.5rem 0
    text-align: left
    vertical-align: top

@mixin detail-table
  border-collapse: collapse

  .unknown
    color: $disabled-text-color
  th
    padding-bottom: .5rem

  th, td
    border: none
    padding-left: 0
    padding-right: 3rem
    text-align: left
    vertical-align: top

  tbody:not(:first-of-type)
    tr:first-of-type
      th, td
        padding-top: 2rem

@mixin form
  margin-top: 1rem

  label, input
    display: block

  button
    margin-top: 1rem

  fieldset
    margin-top: 1rem

    label
      font-weight: bold

    input
      margin-top: 0.25rem

  .invalid-feedback
    color: $error-color
    font-size: $small-body-text-size
    font-weight: normal
    padding-left: 0.5rem

@mixin -heading
  font-weight: bold
  line-height: 1.5
  margin: 0

@mixin h1
  @include -heading
  font-size: 4.8rem

@mixin h2
  @include -heading
  font-size: 3.2rem

@mixin h3
  @include -heading
  font-size: 2.4rem

@mixin h4
  @include -heading
  font-size: 2rem

@mixin hero
  margin: 2rem auto
  max-width: $hero-width

@mixin horizontal-flow($justify: left)
  align-items: flex-start
  display: flex
  justify-content: $justify

  @if $justify == left
    justify-content: flex-start
  @else if $justify == right
    justify-content: flex-end

  & > *
    display: inline-block

  & > *:not(:first-child)
    margin-left: 1rem

@mixin level($justify: left)
  @include horizontal-flow($justify: $justify)
  align-items: center

// https://1linelayouts.glitch.me
@mixin pancake-stack
  display: grid
  grid-template-rows: auto 1fr auto

@mixin subnav
  @include level

  *
    font-size: $small-body-text-size

// https://1linelayouts.glitch.me
@mixin sidebar-layout
  display: grid
  grid-template-columns: minmax(150px, 25%) 1fr
  height: 100%

@mixin slab($centered: false, $display: block)
  display: $display
  margin: 1rem
  padding: 1rem

@mixin has-tooltip-when-disabled($tooltip)
  #{$tooltip}
    color: $secondary-text-color
    font-size: $small-body-text-size
    opacity: 0
    visibility: hidden

  &[data-disabled=true]
    &:hover
      #{$tooltip}
        animation: 0.3s show
        opacity: 1
        visibility: visible

@mixin vertical-flow
  & > table
    display: table

  & > *
    display: block

    &:not(:first-child)
      margin-top: 2rem
